{% extends 'menu/base.html' %}

{% block title %}Tableau de bord - RestauPro{% endblock %}

{% block content %}
<div class="top-bar">
    <div class="search-bar">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Rechercher...">
    </div>
    
    <div class="user-info">
        <div class="user-status">
            <i class="fas fa-circle"></i>
            <span>System Online</span>
        </div>
        <div class="user-profile">
            <div class="avatar">BO</div>
            <span>boubacar</span>
        </div>
    </div>
</div>

<header class="page-header">
    <div class="page-title">
        <h1>Table Table 01</h1>
        <div class="user-status ml-3">
            <i class="fas fa-chair"></i>
            <span>Détails et historique des commandes</span>
        </div>
    </div>
    
    <div class="page-actions">
        <button class="btn btn-outline">
            <i class="fas fa-arrow-left"></i> Retour
        </button>
        <button class="btn btn-primary">
            <i class="fas fa-edit"></i> Modifier
        </button>
    </div>
</header>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-header">
            <span class="stat-label">Places</span>
            <div class="stat-icon" style="background-color: #6c5ce7;">
                <i class="fas fa-chair"></i>
            </div>
        </div>
        <div class="stat-value">5</div>
        <div class="stat-label">Capacité totale</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-header">
            <span class="stat-label">Clients</span>
            <div class="stat-icon" style="background-color: #00b894;">
                <i class="fas fa-users"></i>
            </div>
        </div>
        <div class="stat-value">0</div>
        <div class="stat-label">Actuellement</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-header">
            <span class="stat-label">Statut actuel</span>
            <div class="stat-icon" style="background-color: #fdcb6e;">
                <i class="fas fa-info-circle"></i>
            </div>
        </div>
        <div class="stat-value">
            <span class="badge badge-success">Commande payée</span>
        </div>
        <div class="stat-label">Dernière mise à jour</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-header">
            <span class="stat-label">Utilisateur assigné</span>
            <div class="stat-icon" style="background-color: #0984e3;">
                <i class="fas fa-user"></i>
            </div>
        </div>
        <div class="stat-value">TAB001</div>
        <div class="stat-label">Identifiant de table</div>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header">
        <h3>Nombre de clients (serveur)</h3>
    </div>
    <div class="card-body">
        <div class="form-group">
            <label for="clientCount">Nombre de clients</label>
            <div class="d-flex align-items-center">
                <input type="number" id="clientCount" class="form-control" value="0" min="0" max="5" style="max-width: 100px; margin-right: 15px;">
                <button class="btn btn-primary" id="saveClientCount">
                    <i class="fas fa-save"></i> Enregistrer
                </button>
            </div>
            <small class="text-muted">Capacité: 5 places</small>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h3>Dernières commandes</h3>
        <a href="#" class="btn btn-sm btn-outline">
            <i class="fas fa-plus"></i> Nouvelle commande
        </a>
    </div>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>ID Commande</th>
                    <th>Date/Heure</th>
                    <th>Statut</th>
                    <th>Montant</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>#CMD-2023-001</td>
                    <td>07/01/2025 12:30</td>
                    <td><span class="badge badge-success">Payée</span></td>
                    <td>45,500 GNF</td>
                    <td>
                        <button class="btn btn-sm btn-outline">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>#CMD-2023-002</td>
                    <td>07/01/2025 13:45</td>
                    <td><span class="badge badge-warning">En cours</span></td>
                    <td>32,000 GNF</td>
                    <td>
                        <button class="btn btn-sm btn-outline">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Gestion de l'enregistrement du nombre de clients
    document.getElementById('saveClientCount').addEventListener('click', function() {
        const clientCount = document.getElementById('clientCount').value;
        // Ici, vous pourriez ajouter un appel AJAX pour sauvegarder la valeur
        showNotification('Nombre de clients mis à jour avec succès !');
    });
    
    // Exemple de notification (à utiliser avec les actions de l'utilisateur)
    // showNotification('Chawarma poulet ajouté au panier.');
</script>
{% endblock %}
